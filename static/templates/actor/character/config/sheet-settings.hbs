{{#unless actor}}
<div class="fieldblock">
	<label>{{ localize "gurps.settings.default_sheet_settings.initial_points" }}</label>
	<div class="field">
		<input type="text" name="initial_points" value="{{ initial_points }}" data-dtype="Number" />
	</div>
	<label>{{ localize "gurps.settings.default_sheet_settings.default_tech_level" }}</label>
	<div class="field">
		<input type="text" name="tech_level" value="{{ tech_level }}" data-dtype="Number" />
	</div>
</div>
{{/unless}}
<div id="details">
	{{#if actor}}
	<div>
		{{#if (ne system.import.name "")}}
		<button data-action="reimport">
			<i class="fas fa-arrows-rotate"></i>
			{{ localize "gurps.character.settings.import.reimport" file=flags.import.name }}
		</button>
		{{ else }}
		<button disabled>
			<i class="fas fa-arrows-rotate"></i>
			{{localize "gurps.character.settings.import.reimport" file=(localize "gurps.character.settings.import.none")
			}}
		</button>
		{{/if}}
	</div>
	<div>
		<label for="file-upload" class="button">
			<i class="fas fa-file"></i>
			{{ localize "gurps.character.settings.import.file" }}
			<input id="file-upload" type="file" accept=".gcs,.gca5" style="display: none" />
		</label>
		{{#if (ne filename "")}}
		<button data-action="import-confirm">
			<i class="fas fa-file-import"></i>
			{{ localize "gurps.character.settings.import.import" file=filename }}
		</button>
		{{ else }}
		<button disabled>
			<i class="fas fa-file-import"></i>
			{{localize "gurps.character.settings.import.import" file=(localize "gurps.character.settings.import.none")
			}}
		</button>
		{{/if}}
	</div>
	<div>
		<button class="export">
			<i class="fas fa-arrows-rotate"></i>
			{{ localize "gurps.character.settings.import.export" file=(concat actor.name ".gcs") }}
		</button>
	</div>
	{{/if}}
	<div class="field">
		<label>{{ localize "gurps.character.settings.damage_progression" }}</label>
		<select name="system.settings.damage_progression" data-dtype="String">
			{{#select system.settings.damage_progression}} {{#each @root.config.select.progression as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<div>
		<i>{{{ localize (concat "gurps.enum.progression.alt_string." system.settings.damage_progression) }}}</i>
	</div>
	<hr />
	{{#unless actor}}
	<label class="check">
		<input type="checkbox" name="populate_description" data-dtype="Boolean" {{ checked populate_description }} />
		{{ localize "gurps.settings.default_sheet_settings.populate_description" }}
	</label>
	{{/unless}}
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.show_trait_modifier_adj"
				data-dtype="Boolean"
				{{checked
				system.settings.show_trait_modifier_adj}}
			/>
			{{ localize "gurps.character.settings.show_trait_modifier_adj" }}
		</label>
	</div>
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.show_equipment_modifier_adj"
				data-dtype="Boolean"
				{{checked
				system.settings.show_equipment_modifier_adj}}
			/>
			{{ localize "gurps.character.settings.show_equipment_modifier_adj" }}
		</label>
	</div>
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.show_spell_adj"
				data-dtype="Boolean"
				{{checked
				system.settings.show_spell_adj}}
			/>
			{{ localize "gurps.character.settings.show_spell_adj" }}
		</label>
	</div>
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.use_multiplicative_modifiers"
				data-dtype="Boolean"
				{{checked
				system.settings.use_multiplicative_modifiers}}
			/>
			{{ localize "gurps.character.settings.use_multiplicative_modifiers" }}
		</label>
	</div>
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.use_half_stat_defaults"
				data-dtype="Boolean"
				{{checked
				system.settings.use_half_stat_defaults}}
			/>
			{{ localize "gurps.character.settings.use_half_stat_defaults" }}
		</label>
	</div>
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.use_modifying_dice_plus_adds"
				data-dtype="Boolean"
				{{checked
				system.settings.use_modifying_dice_plus_adds}}
			/>
			{{ localize "gurps.character.settings.use_modifying_dice_plus_adds" }}
		</label>
	</div>
	<div class="field">
		<label class="check">
			<input
				type="checkbox"
				name="system.settings.exclude_unspent_points_from_total"
				data-dtype="Boolean"
				{{checked
				system.settings.exclude_unspent_points_from_total}}
			/>
			{{ localize "gurps.character.settings.exclude_unspent_points_from_total" }}
		</label>
	</div>
</div>
<div class="fieldblock">
	<div class="title">{{ localize "gurps.character.settings.units.title" }}</div>
	<hr />
	<label>{{ localize "gurps.character.settings.units.length" }}</label>
	<div class="field">
		<select name="system.settings.default_length_units" data-dtype="String">
			{{#select system.settings.default_length_units}} {{#each @root.config.select.length_units as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<label>{{ localize "gurps.character.settings.units.weight" }}</label>
	<div class="field">
		<select name="system.settings.default_weight_units" data-dtype="String">
			{{#select system.settings.default_weight_units}} {{#each @root.config.select.weight_units as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<div class="title">{{ localize "gurps.character.settings.display.title" }}</div>
	<hr />
	<label>{{ localize "gurps.character.settings.display.userdesc" }}</label>
	<div class="field">
		<select name="system.settings.user_description_display" data-dtype="String">
			{{#select system.settings.user_description_display}} {{#each @root.config.select.display as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<label>{{ localize "gurps.character.settings.display.modifiers" }}</label>
	<div class="field">
		<select name="system.settings.modifiers_display" data-dtype="String">
			{{#select system.settings.modifiers_display}} {{#each @root.config.select.display as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<label>{{ localize "gurps.character.settings.display.notes" }}</label>
	<div class="field">
		<select name="system.settings.notes_display" data-dtype="String">
			{{#select system.settings.notes_display}} {{#each @root.config.select.display as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<label>{{ localize "gurps.character.settings.display.skill_level_adj" }}</label>
	<div class="field">
		<select name="system.settings.skill_level_adj_display" data-dtype="String">
			{{#select system.settings.skill_level_adj_display}} {{#each @root.config.select.display as |v k|}}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<div class="title">{{ localize "gurps.character.settings.block_layout.title" }}</div>
</div>
