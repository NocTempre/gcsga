<li class="feature">
	<div class="top">
		<a class="button gcs-trash" data-action="remove-feature" data-index="{{@index}}"></a>
		<select class="type" name="system.features.{{@index}}.type" data-index="{{@index}}">
			{{#select this.type}} {{#each @root.config.select.feature_strict as |v k| }}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{#if (eq @root.item.type "equipment_container") }} {{#each @rootconfig.select.feature as |v k| }}
			<option value="{{ k }}">{{ localize v }}</option>
			{{/each}} {{/if}} {{/select}}
		</select>
		<div class="field">
			<input
				type="text"
				name="system.features.{{@index}}.amount"
				value="{{ signed this.amount false }}"
				data-dtype="Number"
			/>
		</div>
		<label class="check">
			<input
				type="checkbox"
				data-dtype="Boolean"
				name="system.features.{{@index}}.per_level"
				{{checked
				this.per_level}}
			/>
			{{ localize "gurps.feature.per_level" }}
		</label>
	</div>
	<div>
		<div class="placeholder"></div>
		<select name="system.features.{{@index}}.location">
			{{#select this.location}} {{#unless (in @root.locations this.location)}}
			<option value="{{ this.location }}">
				{{ localize "gurps.field_prefix.dr_unknown" part=this.location type=@root.defaultBodyType }}
			</option>
			{{/unless}} {{#each @root.locations as |v k|}}
			<option value="{{ k }}">{{ v }}</option>
			{{/each}} {{/select}}
		</select>
	</div>
	<div class="dr-bonus">
		<div class="placeholder"></div>
		<label>{{ localize "gurps.field_prefix.dr_bonus_before" }}</label>
		<div class="field">
			<input
				type="text"
				name="system.features.{{@index}}.specialization"
				value="{{ this.specialization }}"
				data-dtype="String"
			/>
		</div>
		<label>{{ localize "gurps.field_prefix.dr_bonus_after" }}</label>
	</div>
</li>
